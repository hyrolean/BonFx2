[利用条件等(2009/03/19追記)]

(1) このBonDriver_Uxは「拡張ツールの中の人」の作成された"BonDriver_sts"
のソースコードを(それから派生された各BonDriverを経由して)改変・利用し
ています。
オリジナルのソースコードの利用条件に従い、このソースコードもGPLとしま
す。
=================== BonDriver_sts/ReadMe.txtより抜粋 =================
３．ライセンスについて
　　・本パッケージに含まれる全てのソースコード、バイナリについて著作権は一切主張しません。
　　・オリジナルのまま又は改変し、各自のソフトウェアに自由に添付、組み込むことができます。
　　・但しGPLに従うことを要求しますのでこれらを行う場合はソースコードの開示が必須となります。
　　・このとき本ソフトウェアの著作権表示を行うかどうかは任意です。
　　・本ソフトウェアは下記ライブラリを使用しています。

　　　"Chameleon USB FX2 API Ver1.00 By OPTIMIZE"
======================================================================
このコードをコンパイルし実行可能なバイナリにするには、サイプレス社の開
発キットに含まれるcyapi.libをリンクする必要がありますが、このバイナリ
の配布はGPLに違反する可能性があるので、このアーカイブにはコンパイル済
みのアーカイブ等は含めていませんので、ご了承ください。

(2) このアーカイブをそのまま(営利・非営利を問わず)他のアップローダやWEB
ページ・WIKI・書籍等へ転載することはご遠慮ください。(このアーカイブが
法的・道義的に問題があった場合・問題となる恐れがあった場合に、転載され
たものを修正・削除することが困難なため)
このアーカイブ中のソースコードを(1)に基いて改変・再利用したコードにつ
いてはこの限りではありませんが、その場合、上記について配慮していただき
ますよう、お願い致します。


[改変履歴]

2008/11/11
* CloseTuner()で、GetCurSpace()/GetCurChannelが返す値を初期の0/50に戻す
ように修正

2008-11-03版
* GetTsStream()のpdwRemainに返す値をバイト数から呼び出し回数に変更
* WaitTsStream()が無効になっていたのを修正
* BonDriver_U?ID?.dllになっていない時のデフォルトを、3波・ID=0に変更

2008-09-06版
* SetChannel()前にGetCurSpace()/GetCurChannelが呼び出された場合、0/50
を返すように修正

2008-07-10版
CBonTuner::GetTsStream()が、*pdwRemainに正しい値を返していなかったバグ
を修正。
バッファサイズやSleep時間の見直し。

2008-07-07版
(1) 地デジチューナー対応
(2) 複数チューナー対応
(3) (1)(2)に伴い、ファイル名他変更
※旧版からの入れ替え後は、再度チャンネルスキャンを行う必要があります。

2008-07-07版
(0) 初版リリース

[概要]
ユニデン地デジ/３波チューナーをEpgDataCap_Bonで使うためのBonDriver。
とりあえずで作ったもので、以下の環境でしかテストしていません。
OS : WindowsXP-Pro-SP2
EpgDataCap_Bon : 人柱版8.3
チューナー構成 : Friio白(旧タイプ)x1 + Friio黒x1 + 亀付きYDBC-30x1

[注意事項]
* 地デジチューナーはテストしていません。
* 複数台動作はテストしていません。
* ファイル名を変更しているため、旧版(BonDriver_Y3.dll)からの入れ替え後
に再度チャンネルスキャンを行う必要があります。

[設定等]
使用するチューナーの台数分、以下の名前にリネームしたdllをEpgDataCap_Bon
のBonDriverディレクトリにコピーしてください。
ファイル名 : BonDriver_U?ID*.dll
    ? : 1=地デジチューナー/3=３波チューナー
    * : カメレオンUSBFX2のID(0-9)
例 : ID=0の３波チューナーの場合、BonDriver_U3ID0.dll
このdllは.iniファイルは使用しません。

[対象チャンネル]
地デジ : リモコンボタン1〜12に設定したチャンネルが対象
BS : 2008-07-05現在の全チャンネルが対象
110CS : 2008-07-05現在の全チャンネルが対象
(BonTuner.cppのstruct asCh[]を参照)

[参考・謝辞]
以下のソースを元に作成しています。各ツールの作者様には感謝！！
* BonDriver_stsにリモコン送信をつけてみた(0.0.2.1)
* EpgDataCap_Bon(人柱版8.1)付属の"亀？"ディレクトリのコード

[チラ裏的技術メモ]
本来であれば、３波用のdllをBonDriver_U3.dll(前の版でY3としていたのはユ
ニデン=Yunidenとの勘違い(^^;のため)、地デジ用をBonDriver_U1.dllとし、
同一種類であれば複数台あっても１つのdllで管理・制御するように作らなけ
ればなりません。(たとえば３波３台なら、BonDriver_U3.dll１個で３台の使
用・未使用を管理し、未使用チューナーを割り当てる制御を行う)
これを行うためには、dllが自分の管理すべきチューナー(地デジなのか３波な
のか)を判別する必要がありますが、これが困難で、私の手には負えません。
で、安直な実装方法として、チューナー１台毎にdllを１個置くようにし、そ
れぞれのdllは1台のチューナーのみを管理するようにしました。
例えば、３波２台(ID=0,1)と地デジ２台(ID=2,3)なら
BonDriver_U3ID0.dll
BonDriver_U3ID1.dll
BonDriver_U1ID2.dll
BonDriver_U1ID3.dll

というような、とってもダサい実装で・・・すいません・・・
